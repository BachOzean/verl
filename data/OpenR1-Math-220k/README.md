---
license: apache-2.0
language:
- en
configs:
- config_name: all
  data_files:
  - split: train
    path: all/train-*
- config_name: default
  data_files:
  - split: train
    path: data/train-*
- config_name: extended
  data_files:
  - split: train
    path: extended/train-*
dataset_info:
- config_name: all
  features:
  - name: problem
    dtype: string
  - name: solution
    dtype: string
  - name: answer
    dtype: string
  - name: problem_type
    dtype: string
  - name: question_type
    dtype: string
  - name: source
    dtype: string
  - name: uuid
    dtype: string
  - name: is_reasoning_complete
    sequence: bool
  - name: generations
    sequence: string
  - name: correctness_math_verify
    sequence: bool
  - name: correctness_llama
    sequence: bool
  - name: finish_reasons
    sequence: string
  - name: correctness_count
    dtype: int64
  - name: messages
    list:
    - name: content
      dtype: string
    - name: role
      dtype: string
  splits:
  - name: train
    num_bytes: 9734110026.0
    num_examples: 225129
  download_size: 4221672067
  dataset_size: 9734110026.0
- config_name: default
  features:
  - name: problem
    dtype: string
  - name: solution
    dtype: string
  - name: answer
    dtype: string
  - name: problem_type
    dtype: string
  - name: question_type
    dtype: string
  - name: source
    dtype: string
  - name: uuid
    dtype: string
  - name: is_reasoning_complete
    sequence: bool
  - name: generations
    sequence: string
  - name: correctness_math_verify
    sequence: bool
  - name: correctness_llama
    sequence: bool
  - name: finish_reasons
    sequence: string
  - name: correctness_count
    dtype: int64
  - name: messages
    list:
    - name: content
      dtype: string
    - name: role
      dtype: string
  splits:
  - name: train
    num_bytes: 4964543659
    num_examples: 93733
  download_size: 2149897914
  dataset_size: 4964543659
- config_name: extended
  features:
  - name: problem
    dtype: string
  - name: solution
    dtype: string
  - name: answer
    dtype: string
  - name: problem_type
    dtype: string
  - name: question_type
    dtype: string
  - name: source
    dtype: string
  - name: uuid
    dtype: string
  - name: is_reasoning_complete
    sequence: bool
  - name: generations
    sequence: string
  - name: correctness_math_verify
    sequence: bool
  - name: correctness_llama
    sequence: bool
  - name: finish_reasons
    sequence: string
  - name: correctness_count
    dtype: int64
  - name: messages
    list:
    - name: content
      dtype: string
    - name: role
      dtype: string
  splits:
  - name: train
    num_bytes: 4769566550
    num_examples: 131396
  download_size: 2063936457
  dataset_size: 4769566550
---


# OpenR1-Math-220k

## Dataset description
OpenR1-Math-220k is a large-scale dataset for mathematical reasoning. It consists of 220k math problems with two to four reasoning traces generated by [DeepSeek R1](https://huggingface.co/deepseek-ai/DeepSeek-R1) for problems from NuminaMath 1.5. 
The traces were verified using [Math Verify](https://github.com/huggingface/Math-Verify) for most samples and [Llama-3.3-70B-Instruct](https://huggingface.co/meta-llama/Llama-3.3-70B-Instruct) as a judge for 12% of the samples, and each problem contains at least one reasoning trace with a correct answer.

The dataset consists of two splits: 
- `default` with 94k problems and that achieves the best performance after SFT.
- `extended` with 131k samples where we add data sources like `cn_k12`. This provides more reasoning traces, but we found that the performance after SFT to be lower than the `default` subset, likely because the questions from `cn_k12` are less difficult than other sources.

You can load the dataset as follows:

```python
from datasets import load_dataset

ds = load_dataset("open-r1/OpenR1-Math-220k", "default")
```

## Dataset curation
To build OpenR1-Math-220k, we prompt [DeepSeek R1](https://huggingface.co/deepseek-ai/DeepSeek-R1) model to generate solutions for 400k problems from [NuminaMath 1.5](https://huggingface.co/datasets/AI-MO/NuminaMath-1.5) using [SGLang](https://github.com/sgl-project/sglang), the generation code is available [here](https://github.com/huggingface/open-r1/tree/main/slurm). We follow the model card’s recommended generation parameters and prepend the following instruction to the user prompt:

`"Please reason step by step, and put your final answer within \boxed{}."`

We set a 16k token limit per generation, as our analysis showed that only 75% of problems could be solved in under 8k tokens, and most of the remaining problems required the full 16k tokens. We were able to generate 25 solutions per hour per H100, enabling us to generate 300k problem solutions per day on 512 H100s.

We generate two solutions per problem—and in some cases, four—to provide flexibility in filtering and training. This approach allows for rejection sampling, similar to DeepSeek R1’s methodology, and also makes the dataset suitable for preference optimisation methods like DPO.

## License
The dataset is licensed under Apache 2.0

